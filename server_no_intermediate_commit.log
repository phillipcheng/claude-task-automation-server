/Users/bytedance/python/claudeserver/app/main.py:37: DeprecationWarning: 
        on_event is deprecated, use lifespan event handlers instead.

        Read more about it in the
        [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).
        
  @app.on_event("startup")
INFO:     Started server process [30916]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
Database initialized: mysql+pymysql://root:sitebuilder@localhost/claudesys
INFO:     127.0.0.1:51511 - "POST /api/v1/tasks/by-name/add_scene_event_codes_to_stra/set-input HTTP/1.1" 422 Unprocessable Content
ğŸ” DEBUG: Adding user input to queue for task 8d71a584-a288-4993-bca2-c445249c7d1a (add_scene_event_codes_to_stra): 'FINAL SOLUTION TEST...'
ğŸ” UserInputManager DEBUG: Starting add_user_input for task 8d71a584-a288-4993-bca2-c445249c7d1a
ğŸ” UserInputManager DEBUG: Found task add_scene_event_codes_to_stra
ğŸ” UserInputManager DEBUG: Current queue: [{'id': '5e11131f-3a38-4d66-8fb3-b1ec2d136dfe', 'input': 'do not forget test case', 'processed': False, 'timestamp': '2025-10-24T23:24:16.184454'}]
ğŸ” UserInputManager DEBUG: Created input entry: {'id': 'f312c68b-e29f-407f-a05f-20ac6edb13fe', 'input': 'FINAL SOLUTION TEST', 'timestamp': '2025-10-25T03:17:26.376606', 'processed': False}
ğŸ” UserInputManager DEBUG: Current queue before append: [{'id': '5e11131f-3a38-4d66-8fb3-b1ec2d136dfe', 'input': 'do not forget test case', 'processed': False, 'timestamp': '2025-10-24T23:24:16.184454'}]
ğŸ” UserInputManager DEBUG: Current queue after append: [{'id': '5e11131f-3a38-4d66-8fb3-b1ec2d136dfe', 'input': 'do not forget test case', 'processed': False, 'timestamp': '2025-10-24T23:24:16.184454'}, {'id': 'f312c68b-e29f-407f-a05f-20ac6edb13fe', 'input': 'FINAL SOLUTION TEST', 'timestamp': '2025-10-25T03:17:26.376606', 'processed': False}]
ğŸ” UserInputManager DEBUG: Set task.user_input_queue to: [{'id': '5e11131f-3a38-4d66-8fb3-b1ec2d136dfe', 'input': 'do not forget test case', 'processed': False, 'timestamp': '2025-10-24T23:24:16.184454'}, {'id': 'f312c68b-e29f-407f-a05f-20ac6edb13fe', 'input': 'FINAL SOLUTION TEST', 'timestamp': '2025-10-25T03:17:26.376606', 'processed': False}]
ğŸ” UserInputManager DEBUG: Skipping commit (auto_commit=False)
ğŸ” DEBUG: UserInputManager.add_user_input() returned: True
âœ… DEBUG: Successfully added user input to queue for task 8d71a584-a288-4993-bca2-c445249c7d1a (not yet committed)
ğŸ”„ Task add_scene_event_codes_to_stra is RUNNING but no active process - restarting task executor to process user input
ğŸ” DEBUG: Before task executor restart - task.user_input_queue = [{'id': '5e11131f-3a38-4d66-8fb3-b1ec2d136dfe', 'input': 'do not forget test case', 'processed': False, 'timestamp': '2025-10-24T23:24:16.184454'}, {'id': 'f312c68b-e29f-407f-a05f-20ac6edb13fe', 'input': 'FINAL SOLUTION TEST', 'timestamp': '2025-10-25T03:17:26.376606', 'processed': False}]
âœ… Task executor restarted for add_scene_event_codes_to_stra - user input will be processed by task executor
ğŸ” DEBUG: After task executor restart - task.user_input_queue = [{'id': '5e11131f-3a38-4d66-8fb3-b1ec2d136dfe', 'input': 'do not forget test case', 'processed': False, 'timestamp': '2025-10-24T23:24:16.184454'}, {'id': 'f312c68b-e29f-407f-a05f-20ac6edb13fe', 'input': 'FINAL SOLUTION TEST', 'timestamp': '2025-10-25T03:17:26.376606', 'processed': False}]
ğŸ” DEBUG: About to commit both queue changes and legacy field for task 8d71a584-a288-4993-bca2-c445249c7d1a
ğŸ” DEBUG: Before commit - task.user_input_queue = [{'id': '5e11131f-3a38-4d66-8fb3-b1ec2d136dfe', 'input': 'do not forget test case', 'processed': False, 'timestamp': '2025-10-24T23:24:16.184454'}, {'id': 'f312c68b-e29f-407f-a05f-20ac6edb13fe', 'input': 'FINAL SOLUTION TEST', 'timestamp': '2025-10-25T03:17:26.376606', 'processed': False}]
âœ… DEBUG: Combined commit completed for task 8d71a584-a288-4993-bca2-c445249c7d1a
ğŸ” DEBUG: After commit and refresh - task.user_input_queue = [{'id': '5e11131f-3a38-4d66-8fb3-b1ec2d136dfe', 'input': 'do not forget test case', 'processed': False, 'timestamp': '2025-10-24T23:24:16.184454'}]
INFO:     127.0.0.1:51597 - "POST /api/v1/tasks/by-name/add_scene_event_codes_to_stra/set-input HTTP/1.1" 200 OK
INFO:     127.0.0.1:51705 - "GET /api/v1/tasks/by-name/add_scene_event_codes_to_stra/input-queue-status HTTP/1.1" 200 OK
Claude CLI executing in current directory (no project_path specified)
